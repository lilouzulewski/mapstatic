<!DOCTYPE html>
<html class="writer-html5" lang="English" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Consumption Prediction &mdash; mapstatic 1.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css\custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Mapstatic Examples !" href="../gallery/gallery.html" />
    <link rel="prev" title="Interactive Map" href="map.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> mapstatic
            <img src="../_static/mapstaticlogo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Installation, Contacts, Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation.html">How to install <em>mapstatic</em> ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/contacts.html">Contacts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/sources.html">Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Mapstatic</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="map.html">Interactive Map</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Consumption Prediction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#data">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#preprocess">Preprocess</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modelisation">Modelisation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#how-to-use">How to use ?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-is-the-model-behind">What is the model behind ?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Gallery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gallery/gallery.html">Mapstatic Examples !</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mapstatic</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Consumption Prediction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/mapstatic/static.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="consumption-prediction">
<h1>Consumption Prediction<a class="headerlink" href="#consumption-prediction" title="Permalink to this headline"></a></h1>
<p>The steps of that led to the prediction will be detailed in the three parts below: the data, the preprocess, and the model development.</p>
<section id="data">
<h2>Data<a class="headerlink" href="#data" title="Permalink to this headline"></a></h2>
<p>The French consumption data was imported from the <a class="reference external" href="https://odre.opendatasoft.com/explore/dataset/eco2mix-regional-cons-def/table/?disjunctive.libelle_region&amp;disjunctive.nature&amp;sort=-date_heure">government</a> website linked using the below class before applying the predictive model:</p>
<dl class="py class">
<dt class="sig sig-object py" id="datadownloading">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">datadownloading</span></span><a class="headerlink" href="#datadownloading" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>This dataset is composed of the different types of energy (global, thermal, nuclear, wind, solar, hydraulic,) and their respective consumption value in France for every thirty minutes since 2013.</p>
</section>
<section id="preprocess">
<h2>Preprocess<a class="headerlink" href="#preprocess" title="Permalink to this headline"></a></h2>
<p>Now that the dataset is imported, it has to be cleaned and prepped for better use.</p>
<p>Thus, new dataframes were deduced for each type of energy including only variables of time and values of consumption in MW. The original dataset also contained NaN values (missing values) that had to be replaced by the mean of closer values.
Another class was introduced to do this job:</p>
<dl class="py class">
<dt class="sig sig-object py" id="datashaping">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">datashaping</span></span><a class="headerlink" href="#datashaping" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>If one wishes to view only the thermal dataframe for instance, simply type the following command in a python editor:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">datashaping</span><span class="o">.</span><span class="n">datashaping</span><span class="o">.</span><span class="n">solardata</span><span class="p">())</span>
</pre></div>
</div>
<p>The output resembles the table below:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 39%" />
<col style="width: 30%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><em>date</em></p></th>
<th class="head"><p><em>hour</em></p></th>
<th class="head"><p><em>thermal</em></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><cite>...</cite></p></td>
<td><p><cite>...</cite></p></td>
<td><p>...</p></td>
</tr>
<tr class="row-odd"><td><p><cite>2022-05-31</cite></p></td>
<td><p><cite>23:30</cite></p></td>
<td><p>345.0</p></td>
</tr>
<tr class="row-even"><td><p><cite>2022-05-31</cite></p></td>
<td><p><cite>23:30</cite></p></td>
<td><p>5.0</p></td>
</tr>
<tr class="row-odd"><td><p><cite>2022-05-31</cite></p></td>
<td><p><cite>23:30</cite></p></td>
<td><p>1220.0</p></td>
</tr>
<tr class="row-even"><td><p><cite>2022-05-31</cite></p></td>
<td><p><cite>23:30</cite></p></td>
<td><p>28.0</p></td>
</tr>
<tr class="row-odd"><td><p><cite>2022-05-31</cite></p></td>
<td><p><cite>23:30</cite></p></td>
<td><p>883.0</p></td>
</tr>
</tbody>
</table>
</section>
<section id="modelisation">
<h2>Modelisation<a class="headerlink" href="#modelisation" title="Permalink to this headline"></a></h2>
<section id="how-to-use">
<h3>How to use ?<a class="headerlink" href="#how-to-use" title="Permalink to this headline"></a></h3>
<p>In order to predict the consumption of any energy on the 8th of December 2022, one last class was created.</p>
<dl class="py class">
<dt class="sig sig-object py" id="datamodeling">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">datamodeling</span></span><a class="headerlink" href="#datamodeling" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>This class asks the user to choose a certain type of energy and returns a dataframe of the predicted consumption every thirty minutes along with its associated graph.
Simply type in the following command in an python editor:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">prediction</span><span class="o">.</span><span class="n">dataset</span><span class="p">())</span>
</pre></div>
</div>
<p>Let's take the former example, if the user writes 'thermal', the ouput will be:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 43%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><em>hour</em></p></th>
<th class="head"><p><em>thermal</em></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><cite>00:00</cite></p></td>
<td><p>732.256944</p></td>
</tr>
<tr class="row-odd"><td><p><cite>00:30</cite></p></td>
<td><p>715.935764</p></td>
</tr>
<tr class="row-even"><td><p><cite>01:00</cite></p></td>
<td><p>679.218750</p></td>
</tr>
<tr class="row-odd"><td><p><cite>01:30</cite></p></td>
<td><p>684.390625</p></td>
</tr>
<tr class="row-even"><td><p><cite>...</cite></p></td>
<td><p>...</p></td>
</tr>
<tr class="row-odd"><td><p><cite>23:30</cite></p></td>
<td><p>719.147569</p></td>
</tr>
</tbody>
</table>
<p>Then, the following graph will be displayed:</p>
<img alt="../_images/thermalprediction.pdf" class="align-center" src="../_images/thermalprediction.pdf" />
</section>
<section id="what-is-the-model-behind">
<h3>What is the model behind ?<a class="headerlink" href="#what-is-the-model-behind" title="Permalink to this headline"></a></h3>
<p>In order to predict consumption of all different types of energy, we chose to use a simple and understable method. Evidently, other methods are available but prerequisited knowledge on time series would be necessary which is a rather complicated mathematical field.
The method chosen relied on means.</p>
<p>First, we observed the behaviour of all energies' consumptions since 2013 to distinguish a tendency. For that, we used the <code class="docutils literal notranslate"><span class="pre">datashaping</span></code> class to plot each energy according to its dataframe values.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">datashaping</span><span class="o">.</span><span class="n">consumptiondata</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;French Global Energy Consumption Since 2013&quot;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;MW&#39;</span><span class="p">)</span>
<span class="n">datashaping</span><span class="o">.</span><span class="n">thermaldata</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;French Thermal Energy Consumption Since 2013&quot;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;MW&#39;</span><span class="p">)</span>
<span class="n">datashaping</span><span class="o">.</span><span class="n">nucleardata</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;French Nuclear Energy Consumption Since 2013&quot;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;MW&#39;</span><span class="p">)</span>
<span class="n">datashaping</span><span class="o">.</span><span class="n">winddata</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;French Wind Energy Consumption Since 2013&quot;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;MW&#39;</span><span class="p">)</span>
<span class="n">datashaping</span><span class="o">.</span><span class="n">solardata</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;French Solar Energy Consumption Since 2013&quot;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;MW&#39;</span><span class="p">)</span>
<span class="n">datashaping</span><span class="o">.</span><span class="n">hydraulicdata</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;French Hydraulic Energy Consumption Since 2013&quot;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;MW&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, there is an annual pattern and not a significative increase or decrease of global consumption for instance.</p>
<blockquote>
<div><img alt="../_images/globalconsumption.pdf" class="align-center" src="../_images/globalconsumption.pdf" />
</div></blockquote>
<p>This explains the fact that we have chosen to select all the data of global consumption from December of each year since 2013 to predict its value on the 8th December of 2022 using the following class:</p>
<dl class="py class">
<dt class="sig sig-object py" id="prediction">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">prediction</span></span><a class="headerlink" href="#prediction" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>The previous class selects the correct data, averages them, and finally, plots them. As explained, the selected data depends on observable behaviour from the dataframes.</p>
<p>Surely, there are several other parameters that could be taken into account in order to have a better prediction (like temperature, cost of each energy, etc.). Though, with the data at hand, we did't have access to many parameters that come at play in predicting accurately the consumption rate.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="map.html" class="btn btn-neutral float-left" title="Interactive Map" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../gallery/gallery.html" class="btn btn-neutral float-right" title="Mapstatic Examples !" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Thiziri Abchiche, Rim Alhajal, Maryem El Yamani, Lilou Zulewski.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XXXXXXXXXX', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>